{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\somna\\\\Documents\\\\Java_Backend\\\\Banking\\\\frontend_section\\\\src\\\\component\\\\Page\\\\MyLoanPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { Container, Typography, Paper, TableContainer, Table, TableHead, TableRow, TableCell, TableBody, CircularProgress, Alert, Box, Chip, Button, Collapse, IconButton, Tooltip, Grid } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext'; // Adjust path\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\nimport AddIcon from '@mui/icons-material/Add'; // For Apply button\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8080';\n\n// --- Helper Functions ---\nconst formatDate = dateString => {\n  if (!dateString) return 'N/A';\n  try {\n    return new Date(dateString).toLocaleString('en-IN', {\n      dateStyle: 'medium',\n      timeStyle: 'short'\n    });\n  } catch (e) {\n    return 'Invalid Date';\n  }\n};\nconst formatCurrency = amount => {\n  if (amount === null || amount === undefined) return 'N/A';\n  return `â‚¹ ${amount.toLocaleString('en-IN', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })}`;\n};\nconst getLoanStatusChip = status => {\n  let color = 'default';\n  let label = status ? status.replace('_', ' ') : 'Unknown';\n  switch (status) {\n    case 'PENDING':\n      color = 'warning';\n      break;\n    case 'UNDER_REVIEW':\n      color = 'info';\n      break;\n    case 'APPROVED':\n      color = 'success';\n      break;\n    case 'REJECTED':\n      color = 'error';\n      break;\n    case 'DISBURSED':\n      color = 'primary';\n      break;\n    // Future state\n    case 'CLOSED':\n      color = 'default';\n      break;\n    // Future state\n    default:\n      color = 'default';\n  }\n  return /*#__PURE__*/_jsxDEV(Chip, {\n    label: label,\n    color: color,\n    size: \"small\",\n    variant: \"outlined\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 12\n  }, this);\n};\n// --- End Helper Functions ---\n\n// --- LoanRow Sub-component ---\nfunction LoanRow({\n  loan\n}) {\n  _s();\n  var _loan$interestRate;\n  const [open, setOpen] = useState(false); // State for collapse\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TableRow, {\n      hover: true,\n      sx: {\n        '& > *': {\n          borderBottom: 'unset'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(TableCell, {\n        sx: {\n          width: '5%'\n        },\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"expand row\",\n          size: \"small\",\n          onClick: () => setOpen(!open),\n          children: open ? /*#__PURE__*/_jsxDEV(KeyboardArrowUpIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(KeyboardArrowDownIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 59\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        sx: {\n          width: '10%'\n        },\n        children: loan.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        sx: {\n          width: '25%'\n        },\n        children: formatDate(loan.applicationDate)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        sx: {\n          width: '20%'\n        },\n        children: loan.loanType || 'N/A'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        sx: {\n          width: '20%'\n        },\n        align: \"right\",\n        children: formatCurrency(loan.requestedAmount)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        sx: {\n          width: '20%'\n        },\n        align: \"center\",\n        children: getLoanStatusChip(loan.status)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n      children: /*#__PURE__*/_jsxDEV(TableCell, {\n        style: {\n          paddingBottom: 0,\n          paddingTop: 0\n        },\n        colSpan: 6,\n        children: /*#__PURE__*/_jsxDEV(Collapse, {\n          in: open,\n          timeout: \"auto\",\n          unmountOnExit: true,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              margin: 1,\n              p: 2,\n              border: '1px dashed #e0e0e0',\n              borderRadius: 1,\n              backgroundColor: '#f9f9f9'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              gutterBottom: true,\n              component: \"div\",\n              sx: {\n                fontWeight: 'bold',\n                mb: 1\n              },\n              children: [\"Details for Loan ID: \", loan.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 1,\n              sx: {\n                fontSize: '0.9rem'\n              },\n              children: [\" \", /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 4,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Term:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 59\n                }, this), \" \", loan.termInMonths, \" Months\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 4,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Income:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 59\n                }, this), \" \", formatCurrency(loan.monthlyIncome)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 4,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Employment:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 59\n                }, this), \" \", loan.employmentStatus || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 33\n              }, this), loan.status === 'APPROVED' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  sm: 4,\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Approved Amt:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 67\n                  }, this), \" \", formatCurrency(loan.approvedAmount)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  sm: 4,\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Interest Rate:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 67\n                  }, this), \" \", (_loan$interestRate = loan.interestRate) === null || _loan$interestRate === void 0 ? void 0 : _loan$interestRate.toFixed(2), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  sm: 4,\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Approved On:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 67\n                  }, this), \" \", formatDate(loan.approvalDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true), loan.status === 'REJECTED' && /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"error\",\n                  component: \"span\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Rejection Reason:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 84\n                  }, this), \" \", loan.rejectionReason || 'Not specified']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                mt: 1,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Purpose:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    whiteSpace: 'pre-wrap',\n                    mt: 0.5\n                  },\n                  children: loan.purpose || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n// --- End LoanRow Sub-component ---\n\n// --- MyLoansPage Main Component ---\n_s(LoanRow, \"xG1TONbKtDWtdOTrXaTAsNhPg/Q=\");\n_c = LoanRow;\nexport default function MyLoansPage() {\n  _s2();\n  const navigate = useNavigate();\n  const {\n    authState\n  } = useAuth();\n  const [loans, setLoans] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Fetch user's loans\n  const fetchMyLoans = useCallback(async () => {\n    if (!authState.isLoggedIn) return; // Guard clause\n    setIsLoading(true);\n    setError('');\n    try {\n      var _response$data;\n      const response = await axios.get(`${API_BASE_URL}/loan/my-loans`, {\n        withCredentials: true\n      });\n      if ((_response$data = response.data) !== null && _response$data !== void 0 && _response$data.success && Array.isArray(response.data.loanApplications)) {\n        setLoans(response.data.loanApplications);\n      } else {\n        var _response$data2;\n        throw new Error(((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.message) || \"Could not fetch your loan applications.\");\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Error fetching My Loans:\", err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message || 'Failed to load loan applications.');\n      setLoans([]); // Clear loans on error\n    } finally {\n      setIsLoading(false);\n    }\n  }, [authState.isLoggedIn]); // Depend only on login status\n\n  // Fetch loans on component mount\n  useEffect(() => {\n    fetchMyLoans();\n  }, [fetchMyLoans]);\n\n  // Render login prompt if not logged in\n  if (!authState.isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      sx: {\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          p: 3,\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"warning\",\n          children: \"Please log in to view your Loan Applications.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          sx: {\n            mt: 2\n          },\n          onClick: () => navigate('/login'),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 14\n    }, this);\n  }\n\n  // Main render\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      mt: 4,\n      mb: 4\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 2,\n      sx: {\n        p: {\n          xs: 2,\n          md: 3\n        },\n        borderRadius: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          mb: 3,\n          borderBottom: 1,\n          borderColor: 'divider',\n          pb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"h1\",\n          sx: {\n            fontWeight: 'bold'\n          },\n          children: \"My Loan Applications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          size: \"small\",\n          startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 74\n          }, this),\n          onClick: () => navigate('/header'),\n          children: \"My Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 18\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          my: 5\n        },\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 94\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 31\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 27\n      }, this), !isLoading && !error && /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        variant: \"outlined\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          \"aria-label\": \"collapsible loan applications table\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            sx: {\n              backgroundColor: 'primary.lighter',\n              '& th': {\n                fontWeight: 'bold',\n                color: 'primary.contrastText'\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 37\n              }, this), \" \", /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"App ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Applied On\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Loan Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"Requested Amt.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: loans.length === 0 ? /*#__PURE__*/_jsxDEV(TableRow, {\n              children: /*#__PURE__*/_jsxDEV(TableCell, {\n                colSpan: 6,\n                align: \"center\",\n                sx: {\n                  py: 4,\n                  fontStyle: 'italic',\n                  color: 'text.secondary'\n                },\n                children: [\"You haven't applied for any loans yet.\", /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  sx: {\n                    ml: 2\n                  },\n                  variant: \"text\",\n                  startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 106\n                  }, this),\n                  onClick: () => navigate('/apply-loan'),\n                  children: \"Apply for a Loan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 46\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 37\n            }, this) :\n            // Map through loans and render LoanRow for each\n            loans.map(loan => /*#__PURE__*/_jsxDEV(LoanRow, {\n              loan: loan\n            }, loan.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 57\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 21\n      }, this), !isLoading && loans.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          mt: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"warning\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 81\n          }, this),\n          onClick: () => navigate('/apply-loan'),\n          children: \"Apply for Another Loan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 26\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 9\n  }, this);\n}\n_s2(MyLoansPage, \"fcpkLYlhY0+C9GpfBCkuBtCnS3c=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c2 = MyLoansPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"LoanRow\");\n$RefreshReg$(_c2, \"MyLoansPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","Container","Typography","Paper","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","CircularProgress","Alert","Box","Chip","Button","Collapse","IconButton","Tooltip","Grid","useNavigate","useAuth","ArrowBackIcon","KeyboardArrowDownIcon","KeyboardArrowUpIcon","AddIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","formatDate","dateString","Date","toLocaleString","dateStyle","timeStyle","e","formatCurrency","amount","undefined","minimumFractionDigits","maximumFractionDigits","getLoanStatusChip","status","color","label","replace","size","variant","fileName","_jsxFileName","lineNumber","columnNumber","LoanRow","loan","_s","_loan$interestRate","open","setOpen","children","hover","sx","borderBottom","width","onClick","component","scope","id","applicationDate","loanType","align","requestedAmount","style","paddingBottom","paddingTop","colSpan","in","timeout","unmountOnExit","margin","p","border","borderRadius","backgroundColor","gutterBottom","fontWeight","mb","container","spacing","fontSize","item","xs","sm","termInMonths","monthlyIncome","employmentStatus","approvedAmount","interestRate","toFixed","approvalDate","rejectionReason","mt","whiteSpace","purpose","_c","MyLoansPage","_s2","navigate","authState","loans","setLoans","isLoading","setIsLoading","error","setError","fetchMyLoans","isLoggedIn","_response$data","response","get","withCredentials","data","success","Array","isArray","loanApplications","_response$data2","Error","message","err","_err$response","_err$response$data","console","maxWidth","elevation","textAlign","severity","md","display","justifyContent","alignItems","borderColor","pb","startIcon","my","length","py","fontStyle","ml","map","_c2","$RefreshReg$"],"sources":["C:/Users/somna/Documents/Java_Backend/Banking/frontend_section/src/component/Page/MyLoanPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    Container, Typography, Paper, TableContainer, Table, TableHead, TableRow, TableCell, TableBody,\r\n    CircularProgress, Alert, Box, Chip, Button, Collapse, IconButton, Tooltip, Grid\r\n} from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext'; // Adjust path\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\r\nimport AddIcon from '@mui/icons-material/Add'; // For Apply button\r\n\r\nconst API_BASE_URL = 'http://localhost:8080';\r\n\r\n// --- Helper Functions ---\r\nconst formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    try {\r\n        return new Date(dateString).toLocaleString('en-IN', { dateStyle: 'medium', timeStyle: 'short' });\r\n    } catch (e) { return 'Invalid Date'; }\r\n};\r\nconst formatCurrency = (amount) => {\r\n    if (amount === null || amount === undefined) return 'N/A';\r\n    return `â‚¹ ${amount.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\r\n};\r\nconst getLoanStatusChip = (status) => {\r\n    let color = 'default';\r\n    let label = status ? status.replace('_', ' ') : 'Unknown';\r\n    switch (status) {\r\n        case 'PENDING': color = 'warning'; break;\r\n        case 'UNDER_REVIEW': color = 'info'; break;\r\n        case 'APPROVED': color = 'success'; break;\r\n        case 'REJECTED': color = 'error'; break;\r\n        case 'DISBURSED': color = 'primary'; break; // Future state\r\n        case 'CLOSED': color = 'default'; break;      // Future state\r\n        default: color = 'default';\r\n    }\r\n    return <Chip label={label} color={color} size=\"small\" variant=\"outlined\" />;\r\n};\r\n// --- End Helper Functions ---\r\n\r\n\r\n// --- LoanRow Sub-component ---\r\nfunction LoanRow({ loan }) {\r\n    const [open, setOpen] = useState(false); // State for collapse\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {/* Main visible row */}\r\n            <TableRow hover sx={{ '& > *': { borderBottom: 'unset' } }}>\r\n                {/* Collapse button cell */}\r\n                <TableCell sx={{ width: '5%' }}>\r\n                    <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\r\n                        {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n                    </IconButton>\r\n                </TableCell>\r\n                {/* Data cells */}\r\n                <TableCell component=\"th\" scope=\"row\" sx={{ width: '10%' }}>{loan.id}</TableCell>\r\n                <TableCell sx={{ width: '25%' }}>{formatDate(loan.applicationDate)}</TableCell>\r\n                <TableCell sx={{ width: '20%' }}>{loan.loanType || 'N/A'}</TableCell>\r\n                <TableCell sx={{ width: '20%' }} align=\"right\">{formatCurrency(loan.requestedAmount)}</TableCell>\r\n                <TableCell sx={{ width: '20%' }} align=\"center\">{getLoanStatusChip(loan.status)}</TableCell>\r\n            </TableRow>\r\n            {/* Collapsible details row */}\r\n            <TableRow>\r\n                <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n                    <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                        <Box sx={{ margin: 1, p: 2, border: '1px dashed #e0e0e0', borderRadius: 1, backgroundColor: '#f9f9f9' }}>\r\n                            <Typography variant=\"subtitle2\" gutterBottom component=\"div\" sx={{ fontWeight: 'bold', mb: 1 }}>\r\n                                Details for Loan ID: {loan.id}\r\n                            </Typography>\r\n                            <Grid container spacing={1} sx={{ fontSize: '0.9rem' }}> {/* Slightly smaller font for details */}\r\n                                {/* Row 1 of details */}\r\n                                <Grid item xs={12} sm={4}><strong>Term:</strong> {loan.termInMonths} Months</Grid>\r\n                                <Grid item xs={12} sm={4}><strong>Income:</strong> {formatCurrency(loan.monthlyIncome)}</Grid>\r\n                                <Grid item xs={12} sm={4}><strong>Employment:</strong> {loan.employmentStatus || 'N/A'}</Grid>\r\n\r\n                                {/* Row 2 - Conditional based on status */}\r\n                                {loan.status === 'APPROVED' && (\r\n                                    <>\r\n                                        <Grid item xs={12} sm={4}><strong>Approved Amt:</strong> {formatCurrency(loan.approvedAmount)}</Grid>\r\n                                        <Grid item xs={12} sm={4}><strong>Interest Rate:</strong> {loan.interestRate?.toFixed(2)}%</Grid>\r\n                                        <Grid item xs={12} sm={4}><strong>Approved On:</strong> {formatDate(loan.approvalDate)}</Grid>\r\n                                    </>\r\n                                )}\r\n                                {loan.status === 'REJECTED' && (\r\n                                    <Grid item xs={12}>\r\n                                        <Typography color=\"error\" component=\"span\"><strong>Rejection Reason:</strong> {loan.rejectionReason || 'Not specified'}</Typography>\r\n                                    </Grid>\r\n                                )}\r\n\r\n                                {/* Row 3 - Purpose */}\r\n                                <Grid item xs={12} mt={1}>\r\n                                    <strong>Purpose:</strong>\r\n                                    <Typography variant=\"body2\" sx={{ whiteSpace: 'pre-wrap', mt: 0.5 }}>{loan.purpose || 'N/A'}</Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Box>\r\n                    </Collapse>\r\n                </TableCell>\r\n            </TableRow>\r\n        </React.Fragment>\r\n    );\r\n}\r\n// --- End LoanRow Sub-component ---\r\n\r\n\r\n// --- MyLoansPage Main Component ---\r\nexport default function MyLoansPage() {\r\n    const navigate = useNavigate();\r\n    const { authState } = useAuth();\r\n    const [loans, setLoans] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    // Fetch user's loans\r\n    const fetchMyLoans = useCallback(async () => {\r\n        if (!authState.isLoggedIn) return; // Guard clause\r\n        setIsLoading(true);\r\n        setError('');\r\n        try {\r\n            const response = await axios.get(`${API_BASE_URL}/loan/my-loans`, { withCredentials: true });\r\n             if (response.data?.success && Array.isArray(response.data.loanApplications)) {\r\n                 setLoans(response.data.loanApplications);\r\n             } else {\r\n                 throw new Error(response.data?.message || \"Could not fetch your loan applications.\");\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error fetching My Loans:\", err);\r\n            setError(err.response?.data?.message || err.message || 'Failed to load loan applications.');\r\n            setLoans([]); // Clear loans on error\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, [authState.isLoggedIn]); // Depend only on login status\r\n\r\n    // Fetch loans on component mount\r\n    useEffect(() => {\r\n        fetchMyLoans();\r\n    }, [fetchMyLoans]);\r\n\r\n    // Render login prompt if not logged in\r\n    if (!authState.isLoggedIn) {\r\n        return (\r\n             <Container maxWidth=\"sm\" sx={{ mt: 4 }}>\r\n                <Paper elevation={3} sx={{ p: 3, textAlign: 'center' }}>\r\n                    <Alert severity=\"warning\">Please log in to view your Loan Applications.</Alert>\r\n                     <Button variant=\"contained\" sx={{mt: 2}} onClick={() => navigate('/login')}>Login</Button>\r\n                 </Paper>\r\n             </Container>\r\n         );\r\n    }\r\n\r\n    // Main render\r\n    return (\r\n        <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n            <Paper elevation={2} sx={{ p: { xs: 2, md: 3 }, borderRadius: 2 }}>\r\n                 {/* Header */}\r\n                 <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3, borderBottom: 1, borderColor: 'divider', pb: 2 }}>\r\n                     <Typography variant=\"h5\" component=\"h1\" sx={{ fontWeight: 'bold' }}>My Loan Applications</Typography>\r\n                      <Button variant=\"outlined\" size=\"small\" startIcon={<ArrowBackIcon />} onClick={() => navigate('/header')}>My Account</Button>\r\n                 </Box>\r\n\r\n                {/* Loading Indicator */}\r\n                {isLoading && <Box sx={{ display: 'flex', justifyContent: 'center', my: 5 }}><CircularProgress /></Box>}\r\n\r\n                {/* Error Alert */}\r\n                {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\r\n\r\n                {/* Loan Table */}\r\n                {!isLoading && !error && (\r\n                    <TableContainer component={Paper} variant=\"outlined\">\r\n                        <Table aria-label=\"collapsible loan applications table\">\r\n                            <TableHead sx={{ backgroundColor: 'primary.lighter', '& th': { fontWeight: 'bold', color: 'primary.contrastText' } }}>\r\n                                <TableRow>\r\n                                    <TableCell /> {/* Collapse icon cell */}\r\n                                    <TableCell>App ID</TableCell>\r\n                                    <TableCell>Applied On</TableCell>\r\n                                    <TableCell>Loan Type</TableCell>\r\n                                    <TableCell align=\"right\">Requested Amt.</TableCell>\r\n                                    <TableCell align=\"center\">Status</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {loans.length === 0 ? (\r\n                                    <TableRow>\r\n                                        <TableCell colSpan={6} align=\"center\" sx={{ py: 4, fontStyle: 'italic', color: 'text.secondary' }}>\r\n                                            You haven't applied for any loans yet.\r\n                                             <Button size=\"small\" sx={{ml: 2}} variant='text' startIcon={<AddIcon />} onClick={() => navigate('/apply-loan')}>Apply for a Loan</Button>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                ) : (\r\n                                    // Map through loans and render LoanRow for each\r\n                                    loans.map((loan) => <LoanRow key={loan.id} loan={loan} />)\r\n                                )}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n                )}\r\n\r\n                {/* Button to Apply for Another Loan (shown only if loans exist) */}\r\n                 {!isLoading && loans.length > 0 && (\r\n                     <Box sx={{ display: 'flex', justifyContent: 'center', mt: 3 }}>\r\n                         <Button variant=\"contained\" color=\"warning\" startIcon={<AddIcon />} onClick={() => navigate('/apply-loan')}>\r\n                             Apply for Another Loan\r\n                         </Button>\r\n                     </Box>\r\n                 )}\r\n            </Paper>\r\n        </Container>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}